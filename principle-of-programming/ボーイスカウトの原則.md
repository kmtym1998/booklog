# 5.2 ボーイスカウトの原則

## とは
- 最初にそのコードを書いたのが誰であれ、改修を入れる前より少しでもコードを改善するようにする

## なぜ重要か？
- 改修に改修を重ねるとコードは腐敗しやすい
- 「改修前より少しだけコードをきれいにする」をチーム全員が理解すれば、少なくとも今より品質が落ちることはない
  - むしろどんどん上がっていくかも
- エンジニアがプロダクト全体の質に目を向けるきっかけになる
  - リファクタしようとするなら全体に目を向ける必要があるから

## どうやる？
- 改修前よりきれいにしてコミットする
- これを習慣化する
- 変数名をよりよいものにする
- 大きすぎる関数を分割
- 重複を排除
- 条件文の連なりをなくす
- 循環参照を解消
- インタフェースを追加することで使用方法と実現方法を切り離す
- 小さくてもいいからなんでも

## プログラミングは「急がば回れ」
### ①直接的な価値が得られないからと、ユニットテストを書くのを省略する
- テストがないとリファクタしづらい。テストが手作業になり辛い。
- テストしやすいコードは読みやすいから、テストを書く前提のコードがいい

### ②コスト軽減のため、目的が適合しないのに既存システムをむりやり使う
- 無理をしている以上、いずれ破綻する

### ③不適切なライブラリが選択されていることに気付いたのに、放置する
- 要件の発展とともにライブラリのまずいコードをどうにかするためのコードが増える
- 改修のたびにそいつと戦う必要がある

---

- 近道した部分が将来の基礎になるかも
- 後で修正しようとすると莫大なコスト
- 無理して近道しない

## 所感
- [ボーイスカウトルール](https://xn--97-273ae6a4irb6e2hsoiozc2g4b8082p.com/%E3%82%A8%E3%83%83%E3%82%BB%E3%82%A4/%E3%83%9C%E3%83%BC%E3%82%A4%E3%82%B9%E3%82%AB%E3%82%A6%E3%83%88-%E3%83%AB%E3%83%BC%E3%83%AB/) 好きです
  - (PR 作ったときに「ついでにリファクタしました」って言うのちょっとかっこいいと思ってる節がある)

> - エンジニアがプロダクト全体の質に目を向けるきっかけになる
>   - リファクタしようとするなら全体に目を向ける必要があるから

- これ結構感じる。コードを読む能力・書く能力ともに成長する感じがある
- 傲慢や短気に通ずるものがあると思った
- 急がば回れ の ① に関連して https://speakerdeck.com/twada/quality-and-speed-2022-spring-edition
